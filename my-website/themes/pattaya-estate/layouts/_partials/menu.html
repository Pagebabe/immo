{{- /*
Renders a menu for the given menu ID.

@context {page} page The current page.
@context {string} menuID The menu ID.

@example: {{ partial "menu.html" (dict "menuID" "main" "page" .) }}
*/}}

{{- $page := .page }}
{{- $menuID := .menuID }}

{{- with index site.Menus $menuID }}
  <nav class="main-nav">
    <ul>
      {{- range . }}
        <li class="{{ if .HasChildren }}has-dropdown{{ end }}">
          <a href="{{ .URL }}" class="{{ if $page.IsMenuCurrent .Menu . }}active{{ end }}">{{ .Name }}</a>
          {{ if .HasChildren }}
            <ul class="dropdown-menu">
              {{ range .Children }}
                <li><a href="{{ .URL }}" class="{{ if $page.IsMenuCurrent .Menu . }}active{{ end }}">{{ .Name }}</a></li>
              {{ end }}
            </ul>
          {{ end }}
        </li>
      {{- end }}
    </ul>
  </nav>
{{- end }}
